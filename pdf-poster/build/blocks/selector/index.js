(()=>{"use strict";var e={5:(e,t,n)=>{async function r(e){const t=await fetch(e),n=await t.blob();return URL.createObjectURL(n)}n.d(t,{A:()=>r})},159:(e,t,n)=>{function r(e){function t(t){isNaN(+t)&&(t=100);var n=+new Date;o()&&a();var r=+new Date;(isNaN(n)||isNaN(r)||r-n>t)&&(URL.revokeObjectURL(e),alert("please close developer tools"))}window.attachEvent?"complete"===document.readyState||"interactive"===document.readyState?(t(),window.attachEvent("onresize",t),window.attachEvent("onmousemove",t),window.attachEvent("onfocus",t),window.attachEvent("onblur",t)):setTimeout(argument.callee,0):(window.addEventListener("load",t),window.addEventListener("resize",t),window.addEventListener("mousemove",t),window.addEventListener("focus",t),window.addEventListener("blur",t)),o()&&a()}function o(){return window.outerWidth-window.innerWidth>160||window.outerHeight-window.innerHeight>160}function a(){const e=document.querySelectorAll(".wp-block-pdfp-pdf-poster");e?e.forEach((e=>e.remove())):document.body.remove(),alert("I am sorry, you can't open developer tools. Please close the developer tools!")}n.d(t,{Ay:()=>r})},312:(e,t,n)=>{function r(e){return e?"string"==typeof e&&"number"==typeof parseInt(e)?e:`${e.top}px ${e.right}px ${e.bottom}px ${e.left}px;`:null}n.d(t,{A:()=>r})},362:(e,t,n)=>{n.d(t,{A:()=>o});var r=n(609);const o=function({__:e,attributes:t,source:n=pdfp?.placeholder||"http://localhost/freemius/wp-content/uploads/2022/02/temp.pdf",className:o}){const{height:a,hrScroll:l}=t;return(0,r.createElement)(r.Fragment,null,n.includes("dropbox.com")?(0,r.createElement)("div",{style:{border:"2px solid #ddd"}},(0,r.createElement)("p",null,e("Preview is not available for dropbox","pdfp"))):(0,r.createElement)(r.Fragment,null,(0,r.createElement)("div",{className:`iframe_wrapper ${o} ${l?"pdfp_horizontal_scroll":""}`},(0,r.createElement)("div",{className:"pdfp_frame_overlay"}),(0,r.createElement)("iframe",{className:"pdfp_iframe",height:a,style:{height:a,width:"100%"},src:n}),(0,r.createElement)("span",{className:"close",onClick:()=>{document.exitFullscreen()}},"×"))))}},378:(e,t,n)=>{function r(){return window.navigator.userAgent.includes("Edg")}n.d(t,{A:()=>r})},424:(e,t,n)=>{function r(e){return e.replace(/https?:/,window.location.protocol)}n.d(t,{A:()=>r})},462:(e,t,n)=>{function r(e="encode",t=""){if("decode"===e&&t.includes("http"))return t;const n="abcdefghijklmnopqrstuvwxyz1234567890",r="z1ntg4ihmwj5cr09byx8spl7ak6vo2q3eduf";let o="";if("encode"==e&&""!=t){const e=t.length;for(let a=0;a<e;a++){const e=n.indexOf(t[a]);o+=-1!==e?r[e]:t[a]}}if("decode"==e&&""!=t){const e=t.length;for(let a=0;a<e;a++){const e=t[a],l=r.indexOf(e);o+=-1!==l?n[l]:e}}return o}n.d(t,{A:()=>r})},609:e=>{e.exports=window.React},618:(e,t,n)=>{function r(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}n.d(t,{A:()=>r})},640:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(609),o=n(618);function a({attributes:e,source:t,RichText:n,setAttributes:a,__:l,wrapper:c,previewSrc:i}){const{downloadButton:d,protect:s,downloadButtonText:u,fullscreenButton:p,fullscreenButtonText:m,showName:f,titleFontSize:w,title:b,adobeEmbedder:g,newWindow:v}=e;return(0,r.useEffect)((()=>{}),[]),(0,r.createElement)(r.Fragment,null,!g&&(0,r.createElement)(r.Fragment,null,f&&(0,r.createElement)(n,{tagName:"p",value:b,allowedFormats:[],style:{fontSize:w,margin:"20px"},onChange:e=>a({title:e}),placeholder:l("Title","pdfp")}),(0,r.createElement)("div",{className:"cta_wrapper"},d&&!s&&(0,r.createElement)("a",{className:"pdfp_download",download:!0,target:"blank",href:t,rel:"noreferrer"},(0,r.createElement)("button",{className:"pdfp_download_btn"},u)),p&&!s&&(0,r.createElement)("a",{href:i,rel:"noreferrer",onClick:e=>{"_self"===e.target.parentElement.target&&((0,o.A)()?e.target="blank":(e.preventDefault(),c?.querySelector(".iframe_wrapper")?.requestFullscreen()))},target:v?"blank":"_self"},(0,r.createElement)("button",null,m)))))}},667:(e,t,n)=>{function r(e,t){e?(document.addEventListener("keydown",(e=>(!e.ctrlKey&&!e.metaKey||"s"!==e.key)&&"F12"!==e.key||(e.preventDefault(),e.stopPropagation(),alert("Saving is disabled on this page"),!1))),setTimeout((()=>{t&&(t.contentWindow.document.oncontextmenu=function(e){alert("Right Click Disabled"),e.preventDefault()})}),1e3),document.oncontextmenu=function(e){alert("Right Click Disabled"),e.preventDefault()}):(document.oncontextmenu=function(e){e.preventDefault()},t&&(t.contentWindow.document.oncontextmenu=function(e){e.preventDefault()}))}n.d(t,{A:()=>r})},679:(e,t,n)=>{n.d(t,{A:()=>f});var r=n(609),o=n(667),a=n(5),l=n(159),c=n(462),i=n(768),d=n(640),s=n(362),u=n(836),p=n(424),m=n(378);const f=({attributes:e,RichText:t,setAttributes:n,__:f,id:w})=>{const{adobeEmbedder:b,file:g,protect:v,alert:E,additional:h,width:_,align:y,print:A,onlyPDF:x,downloadButton:$,thumbMenu:S,hrScroll:k,initialPage:F,zoomLevel:N,sidebarOpen:D,defaultBrowser:P=!1,popupOptions:L}=e,{enabled:T,text:C}=L||{},[B,O]=(0,r.useState)(""),R=(0,r.useRef)();(0,r.useEffect)((()=>{(async()=>{if(v)try{let e=(0,p.A)((0,c.A)("decode",g));e=await(0,a.A)(e),O(e),(0,l.Ay)(e),(0,o.A)(E,R.current?.querySelector("iframe"))}catch(e){console.warn(e.message)}else O((0,p.A)(g))})()}),[g]);const[M,q]=(0,r.useState)(null);return(0,r.useEffect)((()=>{let e="";if(B.includes(window.location.origin))if((0,m.A)()&&P)e=`//docs.google.com/gview?embedded=true&url=${B}`;else{let t="&z=auto";N&&(t="&z="+N/100),e=`${pdfp?.dir}pdfjs-new/web/viewer.html?file=${B}${t}&raw=${x?"1":""}&nobaki=${!v&&$?"vera":"false"}&stdono=${A&&!v?"vera":"false"}&open=${D}&onlypdf=${x?"vera":"false"}&hrscroll=${k?"vera":"false"}&side=${S}#page=${F}`}else B.includes(".google.com")&&(e=B);q(e)}),[x,S,F,v,k,B,N,A,$,D]),(0,r.createElement)("div",{ref:R,className:`pdfp_wrapper ${h?.Class} ${w} align-${y} ${T?"pdfp_popup_enabled":""}`,style:{width:_,maxWidth:"100%",display:"inline-block"}},(0,r.createElement)("div",{className:"pdfp_fullscreen_overlay"}),(0,r.createElement)("div",{className:"pdfp_fullscreen_close",onClick:()=>{R.current?.classList.remove("pdfp_fullscreen_opened")}},"×"),(0,r.createElement)(u.A,{attributes:e,id:w}),B&&(0,r.createElement)(r.Fragment,null,T&&(0,r.createElement)("button",{onClick:()=>{"function"==typeof R.current?.querySelector(".iframe_wrapper").requestFullscreen?R.current?.querySelector(".iframe_wrapper").requestFullscreen():R.current?.classList.add("pdfp_fullscreen_opened")},className:"popup-btn"},C),(0,r.createElement)(r.Fragment,null,!T&&(0,r.createElement)(d.A,{attributes:e,source:B,previewSrc:M,RichText:t,setAttributes:n,__:f,wrapper:R.current}),b&&(0,r.createElement)(i.A,{attributes:e,source:B,id:w}),!b&&(0,r.createElement)(s.A,{source:M,attributes:e,setAttributes:n,__:f,wrapper:R.current}))))}},768:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(609),o=n(462);function a({attributes:e,id:t}){const{adobeEmbedder:n,adobeOptions:a,file:l,title:c,height:i,width:d,align:s,protect:u,popupBtnText:p}=e,m=(0,r.useRef)(),f=(0,r.useMemo)((()=>({showPrintPDF:!1,showDownloadPDF:!1,showAnnotationTools:!1,embedMode:a.embedMode})),[]);(0,r.useEffect)((()=>{!n&&m.current&&(m.current.innerHTML=""),m?.current&&"LIGHT_BOX"!=a.embedMode&&w(u?f:a)}),[a,n,l,u]),(0,r.useEffect)((()=>{document.getElementById(t)&&(document.getElementById(t).style.height=i)}),[a.embedMode]);const w=e=>{"undefined"!=typeof AdobeDC&&new AdobeDC.View({clientId:(0,o.A)("decode",pdfp?.adobeClientKey),divId:t}).previewFile({content:{location:{url:l}},metaData:{fileName:c||" "}},e)};return pdfp?.adobeClientKey?(0,r.createElement)(r.Fragment,null,(0,r.createElement)("div",{ref:m,style:{width:`${"LIGHT_BOX"===a?.embedMode?"fit-content":d} `},"data-align":s,className:"iframe_wrapper"},"LIGHT_BOX"===a?.embedMode?(0,r.createElement)(r.Fragment,null,(0,r.createElement)("button",{className:`${t}btn`,onClick:()=>{w(u?f:a)}},p||l?.split(".").slice(0,-1).join("."))):(0,r.createElement)(r.Fragment,null,(0,r.createElement)("div",{id:t,style:{height:i}}),(0,r.createElement)("span",{className:"close",onClick:()=>{document.exitFullscreen()}},"×")))):(0,r.createElement)(r.Fragment,null,"adobe client key missing")}},795:(e,t,n)=>{n.d(t,{sD:()=>c});var r=n(609);const o=window.ReactDOM;var a=n(679);function l({attributes:e,id:t}){return(0,r.createElement)(r.Fragment,null,(0,r.createElement)(a.A,{RichText:c,attributes:e,setAttributes:()=>{},__:i,id:t}))}function c({tag:e="p",value:t=""}){return(0,r.createElement)(e,null,t)}function i(e,t){return e}function d(e=null){if(e){if(e&&null!==e.contentDocument){const t=e.src;e.src=t,setTimeout((()=>{d(e)}),1200)}}else document.querySelectorAll(".pdfp_unsupported_frame").forEach((e=>{d(e)}))}document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".wp-block-pdfp-pdf-poster").forEach((e=>{const t=JSON.parse(e.dataset.attributes);e.removeAttribute("data-attributes"),(0,o.createRoot)(e).render((0,r.createElement)(l,{attributes:t,id:e.id}))})),d()}))},836:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(609),o=n(312);function a({attributes:e,id:t}){const[n,a]=(0,r.useState)(null),{height:l,popupBtnStyle:c,popupOptions:i}=e,{btnStyle:d}=i,s=e.btnStyles||d;return(0,r.useEffect)((()=>{let e=`.${t} .cta_wrapper a, .${t} .cta_wrapper button, .${t} .popup-btn{\n      padding: ${(0,o.A)(s.padding||d.padding)}; \n      color: ${s.color||d.color}; \n      background: ${s.background||d.background}; \n      border-radius: 3px;\n      border:0;\n      cursor: pointer;\n      font-size: ${s.fontSize}\n    } \n    .${t}btn {\n      background: ${c?.background}; \n      color: ${c?.color}; \n      padding: ${(0,o.A)(c.padding)}\n    } `;a(e)}),[c,t,l,s]),(0,r.createElement)("style",null,n)}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var r=n(609);const o=window.wp.i18n,a=window.wp.components,l=window.wp.blockEditor,c=window.wp.data,i=(0,window.wp.compose.compose)([(0,c.withSelect)((e=>({docs:e("core").getEntityRecords("postType","pdfposter",{per_page:100})})))])((e=>{const{props:{attributes:t,setAttributes:n},docs:o}=e,{data:c}=t;let i;return o&&(i=o.map((e=>({label:e?.title?.rendered||"No title",value:e?.id}))),i=[{label:"Select",value:null},...i]),(0,r.createElement)(l.InspectorControls,{style:{marginBottom:"40px"}},(0,r.createElement)(a.Panel,null,(0,r.createElement)(a.PanelBody,{className:"bPlPanelBody"},(0,r.createElement)(a.SelectControl,{label:"PDF Poster",value:c?.tringle_text,options:i,onChange:e=>n({data:{tringle_text:e}})}))))}));var d=n(679),s=n(795);(0,window.wp.blocks.registerBlockType)("meta-box/document-embedder",{title:(0,o.__)("PDF Poster Selector","pdfp"),icon:"pdf",category:"design",keywords:[(0,o.__)("PDF Poster","pdfp"),(0,o.__)("PDF Viewer","pdfp")],supports:{html:!1},attributes:{data:{type:"object",default:{tringle_text:""}}},getEditWrapperProps:()=>{},edit:function(e){const{attributes:t,setAttributes:n}=e,{data:{tringle_text:a}}=t,[l,c]=(0,r.useState)({}),[u,p]=(0,r.useState)(null);return(0,r.useEffect)((()=>{p(!0),jQuery.get(pdfp?.siteUrl+"/wp-json/pdfposter/v1/single/"+a,(function(e){c(e),p(!1)}))}),[t]),(0,r.createElement)(r.Fragment,null,(0,r.createElement)(i,{props:e}),u?(0,r.createElement)("h2",null,"Loading..."):(0,r.createElement)(d.A,{attributes:l,RichText:s.sD,__:o.__,setAttributes:n,editor:!0}))},save:()=>null,example:{attributes:!0}})})();